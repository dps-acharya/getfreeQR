<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>Generate Free QR</title>

<style>

</style>
</head>

<body>
    <div class="container text-center --bs-secondary-bg">
        <div class="row">
            <h1>FREE QR Code Generator!</h1>
            <br>
            <p>Free to use QR code Generator for everyone</p>
            <p>Made by Dipesh Acharya</p>
        </div>
        <div class="row" >
            <div class="col-3" style="">
                <p>
                    <lable>Paste your link here</lable>
                </p>

                <div>
                    <input type="text" id="qrText"/>
                    <button id="generate" onclick="generateQRCode();">Generate</button>
                </div>
            </div>
            <div class="col-9">
                <canvas id="qr"></canvas>
                <a id="download" download="triangle.png">
                    <!--<button type="button" onClick="downloadImage();">Download Image(.png)</button>-->
                </a>
            </div>
        </div>
    </div>



    <script src="qrious.min.js"></script>
    <script>
        const generateQRCode = () => {
            let qr;
            const qrText = document.getElementById('qrText').value;

            (function() {
                qr = new QRious({
                    element: document.getElementById('qr'),
                    value: "DPS",
                    size:500,
                    padding: 25
                });
            })();

            qr.set({
                value: qrText,
            });

            let button = document.getElementById('downloadImage');
            button.removeAttribute("hidden")
        };
       /* const downloadButton = () => {
            let canvas = document.getElementById("qr");
            let img    = canvas.toDataURL("image/png");
            document.write('<img src="'+img+'"/>');

        }*/
        function download() {
            let download = document.getElementById("download");
            let image = document.getElementById("QR").toDataURL("image/png")
                .replace("image/png", "image/octet-stream");
            download.setAttribute("href", image);
//download.setAttribute("download","archive.png");
        }

    </script>
</body>
</html>
